#!/bin/sh

set -e

while getopts bs: option; do
  case $option in
  b)
    batch=true
    ;;
  s)
    skipped_subcommands=$OPTARG
    ;;
  esac
done

for subcommand in homebrew zsh tmux python ruby node go rust gcp vim; do
  if ! echo "$skipped_subcommands" | grep $subcommand >/dev/null; then
    update-$subcommand ${batch:+-b}
  fi
done
