#!/bin/sh

set -e

pids=$(ps ax | grep -e tsserver -e eslint -e typescript-language-server | grep -v grep | awk '{ print $1 }')

if [ -n "$pids" ]; then
  kill $pids
fi

for d in .cache/go-build .cache/Homebrew .cache/pip .cache/yarn .rustup/downloads/* .rustup/tmp/*; do
  rm -rf ~/$d
done

brew cleanup
gem cleanup
npm cache clean --force
