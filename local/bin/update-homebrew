#!/bin/sh

set -e

is_64_bit() {
  [ $(getconf LONG_BIT) = 64 ]
}

is_x86_64() {
  [ $(uname -m) = x86_64 ]
}

if [ ! -d ~/.homebrew ]
then
  git clone https://github.com/Homebrew/brew ~/.homebrew
  eval $(~/.homebrew/bin/brew shellenv)
fi

brew update
brew update

brew upgrade

if is_64_bit
then
  brew tap thoughtbot/formulae
  brew install rcm
fi

brew install \
    asdf curl zsh git tmux htop tig \
    $(is_x86_64 && echo go) ruby python neovim node watch
    # ghc haskell-stack elm-format git-lfs
