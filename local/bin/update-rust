#!/bin/sh

set -e

if ! which rustup
then
  curl -sSf https://sh.rustup.rs |
  sh -s -- -y --no-modify-path --default-toolchain nightly
fi

rustup component add rustfmt-preview
rustup component add clippy-preview --toolchain=nightly
rustup component add rls-preview rust-analysis rust-src
rustup update

cargo install cargo-update || :
cargo install-update -i bat cargo-update exa fd-find ripgrep tokei
