#!/bin/sh

set -e

if ! which rustup; then
  curl -sSf https://sh.rustup.rs |
    sh -s -- -y --no-modify-path --default-toolchain stable
fi

rustup component add clippy rls rustfmt rust-analysis rust-src
rustup update

cargo install cargo-update || :
cargo install-update -i \
  bat \
  bottom \
  cargo-edit \
  cargo-update \
  du-dust \
  exa \
  fastmod \
  fd-find \
  git-delta \
  hexyl \
  procs \
  ripgrep \
  sccache \
  stylua \
  taplo-cli \
  tealdeer \
  tokei

tldr --update
