#!/bin/sh

set -e

if ! which rustup
then
  curl -sSf https://sh.rustup.rs |
  sh -s -- -y --no-modify-path --default-toolchain nightly
fi

rustup install stable
rustup component add rustfmt --toolchain=nightly
rustup component add clippy rls rust-analysis rust-src --toolchain=stable
rustup update

cargo install cargo-update || :
cargo install-update -i bat cargo-update dutree exa fd-find ripgrep tealdeer tokei

tldr --update
