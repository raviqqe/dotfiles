#!/bin/sh

set -e

rustup install stable nightly

for channel in stable nightly; do
  rustup +$channel component add clippy llvm-tools rustfmt rust-analysis rust-analyzer rust-src
done

rustup update

for crate in \
  ast-grep \
  bat \
  bob-nvim \
  bottom \
  cargo-expand \
  cargo-insta \
  cargo-machete \
  cargo-release \
  cargo-show-asm \
  du-dust \
  eza \
  fastmod \
  fd-find \
  flamegraph \
  fnm \
  git-delta \
  hexyl \
  hyperfine \
  jaq \
  jnv \
  mstak \
  mstak-interpret \
  muffy \
  pkgx \
  procs \
  ripgrep \
  schemat \
  sheldon \
  skim \
  sqruff \
  stak \
  stak-compile \
  stak-decode \
  stak-interpret \
  stak-minify \
  stak-profile \
  stak-repl \
  static-web-server \
  tailspin \
  tealdeer \
  tex-fmt \
  tokei \
  wasmtime-cli \
  xh \
  zellij \
  zoxide; do
  cargo install --locked $crate
done

cargo install --no-default-features bacon

tldr --update
