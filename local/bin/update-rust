#!/bin/sh

set -e

if ! which rustup; then
  curl -sSf https://sh.rustup.rs |
    sh -s -- -y --no-modify-path --default-toolchain stable
fi

rustup component add clippy rls rustfmt rust-analysis rust-analyzer rust-src
rustup update

cargo install cargo-update || :
cargo install-update -i \
  bat \
  bottom \
  cargo-expand \
  cargo-release \
  cargo-update \
  cargo-watch \
  du-dust \
  eza \
  fastmod \
  fd-find \
  flamegraph \
  git-delta \
  hexyl \
  hyperfine \
  procs \
  ripgrep \
  sccache \
  stylua \
  taplo-cli \
  tealdeer \
  tokei \
  zoxide

cargo +nightly install-update -i schemat

tldr --update
